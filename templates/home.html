<div class="container">
	<link rel="stylesheet" href="/app.css">
	
	<!--button type="button" class="btn btn-default btn-lg" ng-click='addPers()'>Test: create person</button-->
	
	<!--ul class='list-group'-->
	  <li ng-repeat="person in persons.data | orderBy:'-firstname'" class='list-group-item' ng-init="outerIndex = $index">
		<div class="media">
			<div class="media-left media-top">
				<a href ng-click="$event.preventDefault();managePers(person._id)"><img src="img_avatar1.png" class="media-object" style="width:60px"></a>
			</div>
			<div class="media-body">
			
				<a href ng-click="$event.preventDefault();managePers(person._id)"><h4 class="media-heading"> {{ person.firstname }} {{ person.lastname }} </h4></a>

				<div class="container">
				<div class="row">
					
					<a href ng-click='$event.preventDefault();showInteractions(outerIndex)'>Days since last interaction <span class="badge">{{person.diffDays}}</span></a>
					
					<a href ng-click='$event.preventDefault();showInteractions(outerIndex)'>Motivators <span class="badge">{{person.motivsum}}</span></a>
					
					<!--a href="/#/inter">Interactions <span class="badge">42</span></a-->
					<a href ng-click='$event.preventDefault();showInteractions(outerIndex)'>Interactions <span class="badge">{{person.intercount}}</span></a>
					
					<div class="col-md-4">
						<div class="form-group">
						  <!--label for="comment">Comment:</label-->
						  <textarea class="form-control" rows="3" id="observ" placeholder="Observations..." ng-model="persons.data[$index].observation"></textarea>
						</div>
					</div><!-- /.col-md-4 -->
					
				</div> <!-- row -->
				<div class="row">
				<form class="form-inline" name="interForm">
					
					<div class="col-md-4">
					  <!--label for="interact">Interaction type </label-->
					  <select class="form-control" id="interact" name="interact" ng-model="persons.data[$index].interaction" required>
					    <option value="" disabled selected>Interaction type</option>
						<option value="Hallway conversation">Hallway conversation</option>
						<option value="Phone">Phone</option>
						<option value="Meeting">Meeting</option>
						<option value="Phone">Electronic</option>
						<option value="Other">Other</option>
					  </select>
					  <span ng-show="interForm.interact.$invalid">
						<strong>Please choose.</strong>
					  </span>
					</div><!-- /.col-md-4 -->
					
					<!--label for="intsubmit">Submit interaction </label-->
					<div class="btn-group" id="intsubmit">
						<button class="btn btn-primary btn-lg" type="button" ng-click='subInter(1, outerIndex)' ng-disabled="interForm.interact.$invalid">motivating</button>
						<button class="btn btn-primary btn-lg" type="button" ng-click='subInter(0, outerIndex)' ng-disabled="interForm.interact.$invalid">neutral</button>
						<button class="btn btn-primary btn-lg" type="button" ng-click='subInter(-1, outerIndex)' ng-disabled="interForm.interact.$invalid">demotivating</button>
					</div>
				
				</form>
				</div> <!-- row -->
				</div>

			</div>
		</div>
	  </li>
	<!--/ul-->
	
</div>